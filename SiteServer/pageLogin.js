var $api=new apiUtils.Api(apiUrl+"/v1/administrators/actions/login"),$captchaGetUrl=apiUrl+"/v1/captcha/LOGIN-CAPTCHA",$captchaCheckApi=new apiUtils.Api(apiUrl+"/v1/captcha/LOGIN-CAPTCHA/actions/check");window.top!=self&&(window.top.location=self.location);var $vue=new Vue({el:"#main",data:{pageLoad:!1,pageSubmit:!1,pageAlert:null,account:null,password:null,isAutoLogin:!1,captcha:null,captchaUrl:null},directives:{focus:{inserted:function(a){a.focus()}}},methods:{reload:function(){this.pageLoad=!0,this.captcha="",this.pageSubmit=!1,this.captchaUrl=$captchaGetUrl+"?r="+(new Date).getTime()},checkCaptcha:function(){var a=this;pageUtils.loading(!0),$captchaCheckApi.post({captcha:a.captcha},function(t,i){pageUtils.loading(!1),a.reload(),t?a.pageAlert={type:"danger",html:t.message}:a.login()})},login:function(){var a=this;pageUtils.loading(!0),$api.post({account:a.account,password:md5(a.password),isAutoLogin:a.isAutoLogin},function(t,i){pageUtils.loading(!1),t?a.pageAlert={type:"danger",html:t.message}:a.redirect()})},redirect:function(){location.href="pageInitialization.aspx"},btnLoginClick:function(a){a.preventDefault(),this.pageSubmit=!0,this.pageAlert=null,this.account&&this.password&&this.captcha&&this.checkCaptcha()}}});$vue.reload();